{"id":"Voice-0sw","content_hash":"c475302e89dc44e8f1defd3cf71f6a35b081c83f0282cf16513b85d84e722177","title":"Sentence chunker module (split text into \u003c=max chars sentences)  Acceptance: unit tests cover punctuation \u0026 max length","description":"Implement sentence chunker in chunker.py: function chunk_text(text: str, max_chars: int=200) -\u003e List[str]. Steps: normalize whitespace, split sentences using regex (?\u003c=[.!?])\\s+, accumulate into buckets not exceeding max_chars (start new bucket if next sentence would exceed). Edge cases: extremely long single token (\u003emax_chars) split hard with hyphenation fallback; multiple punctuation; trailing spaces. Unit tests: test_split_basic, test_max_length_boundary, test_long_token_split, test_trailing_punctuation. Acceptance: all tests pass.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-05T12:29:59.2083808+01:00","updated_at":"2025-11-05T12:55:00.0395202+01:00","closed_at":"2025-11-05T12:55:00.0395202+01:00"}
{"id":"Voice-1cm","content_hash":"34660e11ec5b885c5af7c45fb916ae218383834fba0af69e4337d19bebb953bf","title":"Streaming controller (multi-chunk overlap \u0026 gap \u003c200ms)  Acceptance: playback log shows \u003c=200ms inter-chunk gap","description":"Implement streaming_controller.py: class StreamingController(provider, playback, metrics, chunker). Method run(text) -\u003e None: chunk text, for each chunk start request, stream frames; begin sending next chunk once first_frame of current chunk received (overlap). Track inter-chunk gap (playback_start of chunk n+1 minus chunk_complete of chunk n). Ensure gap \u003c=200ms for typical paragraph (\u003c1200 chars). Add log events chunk_start, first_frame, playback_start, chunk_complete. Provide integration test with simulated provider delay injection verifying gap constraint. Acceptance: playback log shows \u003c=200ms inter-chunk gap.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-05T12:30:35.8711419+01:00","updated_at":"2025-11-05T12:58:11.4461833+01:00","closed_at":"2025-11-05T12:58:11.4461833+01:00"}
{"id":"Voice-28t","content_hash":"0875ca12d8a1d77faaa66fee575eaf08ab2e1252f8aa96d19ad0c2a7c4c47625","title":"Implement config loader (CLI \u003e ENV \u003e config file)  Acceptance: unit test precedence passes","description":"Implement configuration loader merging sources in precedence: CLI args \u003e ENV vars \u003e voicecli.toml \u003e defaults. Provide function load_config() returning dataclass. Include validation (numeric ranges for stability 0-1). Add unit tests covering precedence (e.g., ENV overrides file, CLI overrides ENV). Acceptance: pytest test_config_precedence passes.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-05T12:25:55.222964+01:00","updated_at":"2025-11-05T12:46:50.5326957+01:00","closed_at":"2025-11-05T12:46:50.5326957+01:00"}
{"id":"Voice-2ca","content_hash":"4272e88e7d4d885f0ae4d72e1daf9dd39a623fed7e3edb671b81b8c02234a254","title":"Structured JSON logging option (events: chunk_start, first_frame, playback_start, chunk_complete, retry, error)  Acceptance: sample run emits valid JSON lines","description":"Implement logging_utils.py supporting two modes: HUMAN (formatted text) and JSON (one JSON object per line). Provide log_event(event_type, **fields) ensuring API key redaction (****XXXX). Validate JSON schema includes timestamp, event_type, fields. Unit tests: test_json_logging_format, test_redaction, test_human_format_contains_event_type. Integration test: run sample synthesis and inspect captured logs. Acceptance: sample run emits valid JSON lines for --json-log flag.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-05T12:33:27.4892117+01:00","updated_at":"2025-11-05T13:12:10.7032277+01:00","closed_at":"2025-11-05T13:12:10.7032277+01:00"}
{"id":"Voice-2ds","content_hash":"9342807464d4f0d80dda6042d0e7c8c61d5d432bdba39a6fc45a7a84d5f52de4","title":"Phrase-level audio cache (keyed by settings hash)  Acceptance: repeat phrase logs cache_hit and skips provider call","description":"Implement cache.py: class PhraseCache(cache_dir, ttl_seconds). Methods: get(key)-\u003eOptional[CachedItem], put(key, pcm_bytes, sample_rate). Key = SHA256(voice_id+model_id+stability+similarity+chunk_text). Store metadata JSON {created_at, sample_rate, byte_len}. Eviction: on init sweep expired entries. Integrate in streaming_controller: before provider.stream check cache, on cache hit push frames directly via playback engine (split into 100ms slices). Unit tests: test_key_determinism, test_store_and_get, test_expired_eviction. Integration test: repeat phrase logs cache_hit and provider not invoked (mock). Acceptance: repeat phrase uses cache and logs cache_hit.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-05T12:31:01.7372416+01:00","updated_at":"2025-11-05T13:02:52.5815478+01:00","closed_at":"2025-11-05T13:02:52.5815478+01:00"}
{"id":"Voice-2fo","content_hash":"a291e8312cc776697135f04c21c8b183857414ffc2607a83b7a32521b31fe55d","title":"Scaffold project structure (src/voicecli, requirements.txt, initial modules)  Acceptance: run stub CLI prints help","description":"Create initial Python project structure: src/voicecli package with __init__.py, cli.py (stub), config.py, provider_base.py, playback.py. Add requirements.txt listing dependencies (sounddevice, websockets, requests). Provide setup instructions in README snippet. Acceptance: running python -m voicecli --help prints usage without errors.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-05T12:25:42.357513+01:00","updated_at":"2025-11-05T12:47:20.7869887+01:00","closed_at":"2025-11-05T12:47:20.7869887+01:00"}
{"id":"Voice-2zs","content_hash":"969eec0b7e7b5dd2a64c1d7b95e6d8d83936fe7dc3587c862904155ee6839750","title":"Voice catalog fetch \u0026 24h cache (list \u0026 fuzzy match)  Acceptance: bd test lists \u003e=1 voice and cache file created","description":"Implement voice_catalog.py: function fetch_voices(force_refresh=False) using ElevenLabs REST GET /v1/voices with API key header. Cache JSON response to ~/.voicecli/voices.json (timestamp). On fetch if cache \u003c24h and not force_refresh, load file. Provide fuzzy_match(name_or_id)  voice_id using case-insensitive partial scoring (Levenshtein or simple contains). Unit tests: test_cache_logic(mock), test_fuzzy_match, test_force_refresh. Acceptance: voice list cached and fuzzy match returns expected voice id.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-05T12:30:49.0560363+01:00","updated_at":"2025-11-05T12:59:45.4665547+01:00","closed_at":"2025-11-05T12:59:45.4665547+01:00"}
{"id":"Voice-45f","content_hash":"819fb8ce7a39deea979b0469f2053e7ff36263465c337d39f91803bf3d20d34d","title":"WAV saving implementation (simultaneous streaming)  Acceptance: saved WAV duration matches playback within 100ms","description":"Implement wav_saver.py handling streaming PCM: on first frame open file and write RIFF header placeholder; append frames; on close/finalize update header sizes. Provide function attach_wav_sink(playback_engine, path) or integrated in PlaybackEngine with optional argument. Validate sample_rate consistency. Unit tests: test_wav_header_integrity (parse RIFF), test_duration_estimate (duration within 100ms tolerance). Integration test: playback + saved file have matching length. Acceptance: saved WAV duration matches playback within 100ms.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-05T12:33:00.3548075+01:00","updated_at":"2025-11-05T13:05:06.4638298+01:00","closed_at":"2025-11-05T13:05:06.4638298+01:00"}
{"id":"Voice-577","content_hash":"169adffcf5d78803942b4855a7aebbb708c6f0d895bb1013ef7e3ad7e1f0e5c1","title":"Dry-run mode (--dry-run flag)  Acceptance: displays chunk plan \u0026 provider settings without network calls","description":"Implement --dry-run flag in CLI: skip provider.connect and network calls. Output: chunk count, each chunk length, computed provider payload (voice_id, model_id, stability, similarity), estimated frame count based on heuristics (char_len -\u003e approx seconds). Ensure exit code 0. Unit test: test_dry_run_outputs_plan (captures stdout). Acceptance: displays chunk plan \u0026 provider settings without network calls.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-05T12:38:27.7420352+01:00","updated_at":"2025-11-05T13:17:14.6210779+01:00","closed_at":"2025-11-05T13:17:14.6210779+01:00"}
{"id":"Voice-58f","content_hash":"b4b73091328188545f237c263ccaed2fc18db223fb35dc9b4ae7ba4383837ed4","title":"Minimal playback engine (PCM16 mono via sounddevice)  Acceptance: test plays 1s generated tone","description":"Implement playback engine using sounddevice OutputStream (mono PCM16). Expose class PlaybackEngine(start(sample_rate), submit(pcm_bytes), flush_and_close()). Generate a 1s 440Hz sine wave test to validate audio path (test_playback_tone). Handle exceptions (e.g., PortAudioError) and map to custom AudioDeviceError. Acceptance: test_playback_tone plays without exception.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-05T12:26:09.6273456+01:00","updated_at":"2025-11-05T12:48:25.317097+01:00","closed_at":"2025-11-05T12:48:25.317097+01:00"}
{"id":"Voice-6gc","content_hash":"a0e3766331a53b873552eaff02ac7355c7b2c59dfaf9a89961d99eed6920d4e0","title":"Correct README install URLs to match repo","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-05T14:21:28.0103796+01:00","updated_at":"2025-11-05T14:29:16.5536205+01:00","closed_at":"2025-11-05T14:29:16.5536205+01:00"}
{"id":"Voice-7ga","content_hash":"e09ae784112d79651a16bdaaba0ce9757e592edbcf209f2f76803844a75fa7b5","title":"Error handling \u0026 retry logic (network, rate limit, auth)  Acceptance: simulated transient failures recover; final error surfaces","description":"Implement errors.py defining custom exceptions: ProviderConnectionError, ProviderRateLimitError(retry_after), ProviderAuthError, ProviderNetworkError, AudioDeviceError. Add retry logic in streaming_controller: exponential backoff base 0.3s jitter for network/rate limit (max 2 retries). Simulate failures in tests using mock provider raising exceptions. Unit tests: test_rate_limit_retry, test_network_retry_stops_after_max, test_auth_fail_fast. Acceptance: simulated transient failures recover; final error surfaces with correct exception type.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-05T12:33:14.9517122+01:00","updated_at":"2025-11-05T13:07:32.1496984+01:00","closed_at":"2025-11-05T13:07:32.1496984+01:00"}
{"id":"Voice-7gi","content_hash":"f9a89c1346d6f1b5fcb03bb6230da0420478280070439c62c8c496c16dfbbb85","title":"Documentation updates (README quick start \u0026 latency notes)  Acceptance: README includes install, API key, sample run, metrics explanation","description":"README sections: Overview; Features; Quick Start (install deps, set ELEVENLABS_API_KEY, run example); Config precedence; Latency metrics (definitions + targets); JSON logging example; Troubleshooting (audio device, missing key). Acceptance: README includes install, API key, sample run, metrics explanation.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-05T12:38:10.4705349+01:00","updated_at":"2025-11-05T13:18:38.1122284+01:00","closed_at":"2025-11-05T13:18:38.1122284+01:00"}
{"id":"Voice-ajt","content_hash":"da1cd7ab8e96a6b21adedf5835918a81530402bb8a802eb0e3e6e4642a812d65","title":"Document remote PowerShell one-liner install","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-05T14:17:37.7236737+01:00","updated_at":"2025-11-05T14:18:22.3831152+01:00","closed_at":"2025-11-05T14:18:22.3831152+01:00"}
{"id":"Voice-buy","content_hash":"5e9665c1b286865822965c1fabf5ba092f95db0653535d227667c8091a50b550","title":"Provider base + ElevenLabs stub (simulated frames)  Acceptance: stub returns 5 frames for input","description":"Create provider_base.TTSProvider ABC with methods connect(), stream(text_chunk, settings)-\u003eiterator[AudioFrame], list_voices(force_refresh=False), close(). Implement elevenlabs_provider.ElevenLabsProvider stub that simulates streaming: splits input into 5 frames of 200ms silence or generated tone PCM16. Include AudioFrame dataclass. Provide unit test test_stub_stream_returns_5_frames. Acceptance: test passes and stub integrates with playback.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-05T12:26:28.0776233+01:00","updated_at":"2025-11-05T12:50:01.8023467+01:00","closed_at":"2025-11-05T12:50:01.8023467+01:00"}
{"id":"Voice-ffc","content_hash":"9d4f79735e4b5b651274692b43136189b56ca2283e1ecb37d8fd001cd6f2f9b2","title":"Latency metrics instrumentation (timestamps, per-chunk \u0026 summary)  Acceptance: metrics JSON includes required fields","description":"Add metrics.py with ChunkMetrics(dataclass: chunk_index, char_len, request_start, first_frame, playback_start, chunk_complete), compute derived properties (synthesis_latency, startup_latency, buffer_fill_latency). Maintain list; after all chunks produce summary JSON: p95_first_frame, p95_startup, avg_inter_chunk_gap. Provide function emit_metrics_json(metrics_list, path=None). Unit tests: test_metrics_derivations, test_summary_calculations. Acceptance: metrics JSON includes required fields and tests pass.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-05T12:30:23.2842356+01:00","updated_at":"2025-11-05T12:56:16.7932918+01:00","closed_at":"2025-11-05T12:56:16.7932918+01:00"}
{"id":"Voice-iio","content_hash":"099e291659f8f3da9eebc076f2e3303318fe880a4ac461474f4c2817efb9f4f3","title":"Test suite foundation (pytest config, core unit tests, mock provider)  Acceptance: pytest passes locally","description":"Set up pytest: add tests/ directory with __init__.py, conftest.py. Implement unit tests: chunker, config precedence, cache, metrics derivations, voice_catalog fuzzy match (mock REST). Add mock provider fixture yielding synthetic frames. Integrate GitHub Actions workflow (future) placeholder. Acceptance: pytest passes locally with all tests green.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-05T12:33:40.1613128+01:00","updated_at":"2025-11-05T13:13:20.7848964+01:00","closed_at":"2025-11-05T13:13:20.7848964+01:00"}
{"id":"Voice-kyl","content_hash":"4cd8aaf350b4f08f67ca5ba4e66778f10e2fe0e3b0315f5e1d176c70d8d40f3d","title":"Document single-line Windows install command","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-05T14:00:07.3899522+01:00","updated_at":"2025-11-05T14:01:14.4050415+01:00","closed_at":"2025-11-05T14:01:14.4050415+01:00"}
{"id":"Voice-ngr","content_hash":"15ac71329d05daa062dfaad4e1131768dc7301eb41dd6f5b14182a3cd6cb6466","title":"Latency harness script (tools/latency_harness.py)  Acceptance: generates latency_report.json with p95 metrics fields","description":"Implement tools/latency_harness.py: runs synthesis on standard paragraph (embedded constant text ~800 chars) for N=5 iterations, collects metrics summary (avg, p95 first_frame, p95 startup, avg inter_chunk_gap) using metrics module, writes latency_report.json. Provide CLI flags --iterations, --output. Unit tests: test_report_schema (mock metrics). Manual acceptance: run harness and verify JSON fields. Acceptance: latency_report.json generated with p95 metrics fields.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-05T12:33:53.3206559+01:00","updated_at":"2025-11-05T13:15:27.4378543+01:00","closed_at":"2025-11-05T13:15:27.4378543+01:00"}
{"id":"Voice-r90","content_hash":"bc754f8ad6feede9c91c507eb858fc0acceb5b1c74eb7ebfde6d04af9d739752","title":"CLI MVP (single chunk synthesis \u0026 playback)  Acceptance: input text speaks (\u003c1.5s startup)","description":"Implement CLI main to parse input text/file/stdin, load config, create provider stub and playback engine, stream one chunk, support flags voice/model/stability/similarity, log startup latency. Acceptance: speaks audio under target latency.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-05T12:26:40.7924505+01:00","updated_at":"2025-11-05T12:53:43.0773533+01:00","closed_at":"2025-11-05T12:53:43.0773533+01:00"}
{"id":"Voice-rin","content_hash":"c4b3719c0d0d10631d898692ad4848672466a6478128802b9ef22b02f6cebe24","title":"Rename VoiceCLI tool to Babbla","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-06T08:01:15.2995312+01:00","updated_at":"2025-11-06T08:06:43.3217391+01:00","closed_at":"2025-11-06T08:06:43.3217391+01:00"}
{"id":"Voice-u1n","content_hash":"b6826f10f0f42191ea5b47ef3b1994a9802a983aa4781e7ae2fa6c0b4453bbdd","title":"Adaptive buffering \u0026 chunk sizing (respond to underruns and high latency)  Acceptance: log adjustments prebuffer_ms changes and chunk_max_chars reductions","description":"Implement adaptive logic in streaming_controller: track moving averages of synthesis_latency and buffer underruns. If underrun count \u003e2 in last 5 chunks, increase prebuffer_ms +20ms (cap 200ms). If p95 synthesis_latency \u003e target (600ms) over last 5 chunks, reduce chunk_max_chars by 20% (floor 80). Log events: adaptive_prebuffer_increase, adaptive_chunk_reduction with new values. Unit tests: test_prebuffer_increase_condition, test_chunk_reduction_condition (simulate metrics). Acceptance: log adjustments prebuffer_ms changes and chunk_max_chars reductions.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-05T12:38:40.7726024+01:00","updated_at":"2025-11-05T13:27:58.9988276+01:00","closed_at":"2025-11-05T13:27:58.9988276+01:00"}
{"id":"Voice-v3w","content_hash":"9c9fab49d78e6883619f02cb3caf16ebfc8331825303b77a208f3b2d0080a28a","title":"Implement ElevenLabs streaming provider","description":"","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-05T14:29:39.139383+01:00","updated_at":"2025-11-05T14:38:57.3174537+01:00","closed_at":"2025-11-05T14:38:57.3174537+01:00"}
